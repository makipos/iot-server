"use strict";(self.webpackChunkwebsite_2=self.webpackChunkwebsite_2||[]).push([[927],{3905:function(t,n,e){e.d(n,{Zo:function(){return p},kt:function(){return s}});var r=e(7294);function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function o(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?c(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function a(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},c=Object.keys(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}var l=r.createContext({}),u=function(t){var n=r.useContext(l),e=n;return t&&(e="function"==typeof t?t(n):o(o({},n),t)),e},p=function(t){var n=u(t.components);return r.createElement(l.Provider,{value:n},t.children)},h={inlineCode:"code",wrapper:function(t){var n=t.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(t,n){var e=t.components,i=t.mdxType,c=t.originalType,l=t.parentName,p=a(t,["components","mdxType","originalType","parentName"]),g=u(e),s=i,d=g["".concat(l,".").concat(s)]||g[s]||h[s]||c;return e?r.createElement(d,o(o({ref:n},p),{},{components:e})):r.createElement(d,o({ref:n},p))}));function s(t,n){var e=arguments,i=n&&n.mdxType;if("string"==typeof t||i){var c=e.length,o=new Array(c);o[0]=g;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=t,a.mdxType="string"==typeof t?t:i,o[1]=a;for(var u=2;u<c;u++)o[u]=e[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,e)}g.displayName="MDXCreateElement"},1527:function(t,n,e){e.r(n),e.d(n,{frontMatter:function(){return a},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return p},default:function(){return g}});var r=e(7462),i=e(3366),c=(e(7294),e(3905)),o=["components"],a={title:"Ki\u1ebfn tr\xfac",sidebar_label:"T\u1ed5ng quan"},l=void 0,u={unversionedId:"architecture",id:"architecture",isDocsHomePage:!1,title:"Ki\u1ebfn tr\xfac",description:"T\u1ed5ng quan",source:"@site/docs/architecture.md",sourceDirName:".",slug:"/architecture",permalink:"/iot-server/docs/architecture",tags:[],version:"current",lastUpdatedBy:"tranphuong.080",lastUpdatedAt:1632819239,formattedLastUpdatedAt:"9/28/2021",frontMatter:{title:"Ki\u1ebfn tr\xfac",sidebar_label:"T\u1ed5ng quan"},sidebar:"docs",next:{title:"Database",permalink:"/iot-server/docs/database"}},p=[{value:"T\u1ed5ng quan",id:"t\u1ed5ng-quan",children:[]},{value:"Firewall",id:"firewall",children:[]},{value:"Giao th\u1ee9c k\u1ebft n\u1ed1i",id:"giao-th\u1ee9c-k\u1ebft-n\u1ed1i",children:[]},{value:"Frontend",id:"frontend",children:[]},{value:"API Service",id:"api-service",children:[]}],h={toc:p};function g(t){var n=t.components,e=(0,i.Z)(t,o);return(0,c.kt)("wrapper",(0,r.Z)({},h,e,{components:n,mdxType:"MDXLayout"}),(0,c.kt)("h2",{id:"t\u1ed5ng-quan"},"T\u1ed5ng quan"),(0,c.kt)("p",null,"M\xf4 h\xecnh Microservice s\u1eed d\u1ee5ng docker swarm cho ph\xe9p ki\u1ebfn tr\xfac server ho\u1ea1t \u0111\u1ed9ng theo cluster, gi\xfap kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng linh ho\u1ea1t, \u0111\xe1p \u1ee9ng nhu c\u1ea7u ch\u1ecbu t\u1ea3i cao v\xe0 m\u1edf r\u1ed9ng t\xednh n\u0103ng"),(0,c.kt)("p",null,(0,c.kt)("img",{parentName:"p",src:"https://makihome.vn/wp-content/uploads/2020/07/service_network2.png",alt:null,title:"ki\u1ebfn tr\xfac"})),(0,c.kt)("h2",{id:"firewall"},"Firewall"),(0,c.kt)("p",null,"C\u1ee5m server \u0111\u1eb7t trong m\u1ea1ng n\u1ed9i b\u1ed9 \u0111\u1ee9ng sau firewall, ch\u1ec9 cho ph\xe9p d\u1eef li\u1ec7u t\u1edbi c\xe1c c\u1ed5ng d\u1ecbch v\u1ee5 cho ph\xe9p"),(0,c.kt)("ol",null,(0,c.kt)("li",{parentName:"ol"},"80, 443 : C\u1ed5ng d\u1ecbch v\u1ee5 c\u1ee7a web qu\u1ea3n tr\u1ecb"),(0,c.kt)("li",{parentName:"ol"},"22: C\u1ed5ng k\u1ebft n\u1ed1i ssh"),(0,c.kt)("li",{parentName:"ol"},"3020: C\u1ed5ng k\u1ebft n\u1ed1i cho thi\u1ebft b\u1ecb s\u1eed d\u1ee5ng giao th\u1ee9c tcp socket"),(0,c.kt)("li",{parentName:"ol"},"3028, 3029: C\u1ed5ng d\u1ecbch v\u1ee5 api http"),(0,c.kt)("li",{parentName:"ol"},"1883, 8083, 8883, 8084: C\u1ed5ng d\u1ecbch cho k\u1ebft n\u1ed1i mqtt (mqtt, ws, mqttssl, wss)")),(0,c.kt)("h2",{id:"giao-th\u1ee9c-k\u1ebft-n\u1ed1i"},"Giao th\u1ee9c k\u1ebft n\u1ed1i"),(0,c.kt)("p",null,"Makipos iot platform cung c\u1ea5p nhi\u1ec1u giao di\u1ec7n API cho ph\xe9p thi\u1ebft b\u1ecb v\xe0 ng\u01b0\u1eddi d\xf9ng (mobile app, web) k\u1ebft n\u1ed1i. C\xf3 th\u1ec3 b\u1ed5 sung th\xeam b\u1eb1ng c\xe1ch x\xe2y d\u1ef1ng service gateway t\u01b0\u01a1ng \u1ee9ng."),(0,c.kt)("ol",null,(0,c.kt)("li",{parentName:"ol"},"HTTP (HTTPS)"),(0,c.kt)("li",{parentName:"ol"},"MQTT (WS, WSS ,TCP, SSL)"),(0,c.kt)("li",{parentName:"ol"},"TCP"),(0,c.kt)("li",{parentName:"ol"},"SMS : Do \u0111\u1eb7c th\xf9 c\u1ee7a k\u1ebft n\u1ed1i sms, server sms gateway \u0111\u01b0\u1ee3c \u0111\u1eb7t t\u1ea1i 1 m\xe1y tr\u1ea1m n\u1ed9i b\u1ed9 ri\xeang c\xf3 s\u1eed d\u1ee5ng SIM module. C\xe1c k\u1ebft n\u1ed1i, giao ti\u1ebfp s\u1eed d\u1ee5ng giao th\u1ee9c n\xe0y \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n trung gian qua server \u0111\u1ed9c l\u1eadp n\xe0y s\u1eed d\u1ee5ng (API, webhook)")),(0,c.kt)("h2",{id:"frontend"},"Frontend"),(0,c.kt)("p",null,"Ho\u1ea1t \u0111\u1ed9ng c\u1ee7a h\u1ec7 th\u1ed1ng IOT backend kh\xf4ng th\u1ec3 thi\u1ebfu giao di\u1ec7n qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng v\xe0 d\u1eef li\u1ec7u d\xe0nh cho ng\u01b0\u1eddi d\xf9ng."),(0,c.kt)("p",null,"Nh\xf3m service website qu\u1ea3n tr\u1ecb \u0111\u01b0\u1ee3c t\xe1ch bi\u1ec7t v\u1edbi l\xf5i server, s\u1eed d\u1ee5ng m\u1ea1ng overlay \u0111\u1ed9c l\u1eadp, giao ti\u1ebfp v\u1edbi backend ho\xe0n to\xe0n th\xf4ng qua giao di\u1ec7n API b\u1ea3o m\u1eadt."),(0,c.kt)("p",null,"D\u1ec5 d\xe0ng ph\xe1t tri\u1ec3n nh\u1eefng giao di\u1ec7n qu\u1ea3n tr\u1ecb \u0111\u1eb7c th\xf9 cho t\u1eebng m\u1ee5c \u0111\xedch."),(0,c.kt)("h2",{id:"api-service"},"API Service"),(0,c.kt)("p",null,"Nh\xf3m service bao g\u1ed3m c\u01a1 s\u1edf d\u1eef li\u1ec7u, mqtt broker, API service ho\u1ea1t \u0111\u1ed9ng trong m\u1ea1ng ri\xeang (overlay network c\u1ee7a docker swarm)."),(0,c.kt)("p",null,"M\u1ed7i ph\u1ea7n ch\u1ee9c n\u0103ng \u0111\u01b0\u1ee3c t\xe1ch ra th\xe0nh service docker container ri\xeang, thu\u1eadn ti\u1ec7n cho vi\u1ec7c c\u1eadp nh\u1eadt ph\xe1t tri\u1ec3n t\u1eebng nh\xf3m ch\u1ee9c n\u0103ng ri\xeang l\u1ebb, m\u1edf r\u1ed9ng nhi\u1ec1u container song song cho t\u1eebng service \u0111\xe1p \u1ee9ng t\u01b0\u01a1ng th\xedch v\u1edbi ho\u1ea1t \u0111\u1ed9ng th\u1ef1c t\u1ebf."))}g.isMDXComponent=!0}}]);
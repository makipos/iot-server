<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Database | Nền tảng IOT Makipos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://makipos.github.io/iot-server/docs/overview/service/database"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Database | Nền tảng IOT Makipos"><meta data-react-helmet="true" name="description" content="Nhằm mục đich xây dựng hệ thống IOT có khả năng lưu trữ xử lý dữ liệu lớn cùng với tốc độc truy xuất cao. Chúng tôi lựa chọn cơ sở dữ liệu chính là MongoDB với khả năng lưu trữ dữ liệu có cấu trúc linh động, dễ dàng thay đổi phù hợp cho nhiều mục đich và đối tượng, bên cạnh đó vẫn đáp ứng truy vấn tốc độ cao nhờ vào cơ chế hoạt động in memory."><meta data-react-helmet="true" property="og:description" content="Nhằm mục đich xây dựng hệ thống IOT có khả năng lưu trữ xử lý dữ liệu lớn cùng với tốc độc truy xuất cao. Chúng tôi lựa chọn cơ sở dữ liệu chính là MongoDB với khả năng lưu trữ dữ liệu có cấu trúc linh động, dễ dàng thay đổi phù hợp cho nhiều mục đich và đối tượng, bên cạnh đó vẫn đáp ứng truy vấn tốc độ cao nhờ vào cơ chế hoạt động in memory."><link data-react-helmet="true" rel="shortcut icon" href="/iot-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://makipos.github.io/iot-server/docs/overview/service/database"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/overview/service/database" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/overview/service/database" hreflang="x-default"><link rel="stylesheet" href="/iot-server/assets/css/styles.12a4423e.css">
<link rel="preload" href="/iot-server/assets/js/runtime~main.b2059920.js" as="script">
<link rel="preload" href="/iot-server/assets/js/main.a9b7cf04.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/iot-server/"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nền tảng IOT Makipos</b></a><a class="navbar__item navbar__link" href="/iot-server/docs/feature">Chức năng</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/iot-server/docs/overview/architecture">Kiến trúc</a><a class="navbar__item navbar__link" href="/iot-server/docs/tutorial/install/installation">Hướng dẫn</a><a class="navbar__item navbar__link" href="/iot-server/api">API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/iot-server/docs/overview/architecture">Tổng quan</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Service</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/iot-server/docs/overview/service/database">Database</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/gateway">Gateway</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/users_service">User</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/devices_service">Thiết bị</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/relations_service">Quyền sở hữu</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/automatic_service">Luật tự động</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/update_service">Cập nhật OTA</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/service/webmanager">Web quản trị</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Bảo mật</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/security/network">Mạng kết nối</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/security/mqtt">MQTT</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/overview/security/http">HTTP</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/iot-server/docs/overview/database_struct">Cấu trúc dữ liệu</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Database</h1></header><p>Nhằm mục đich xây dựng hệ thống IOT có khả năng lưu trữ xử lý dữ liệu lớn cùng với tốc độc truy xuất cao. Chúng tôi lựa chọn cơ sở dữ liệu chính là MongoDB với khả năng lưu trữ dữ liệu có cấu trúc linh động, dễ dàng thay đổi phù hợp cho nhiều mục đich và đối tượng, bên cạnh đó vẫn đáp ứng truy vấn tốc độ cao nhờ vào cơ chế hoạt động in memory.</p><p>Bên cạnh với cơ sở dữ liệu chính, Redis được sử dụng như bộ nhớ lưu trữ tạm thời và cho các tác vụ yêu cầu truy xuất và ghi dữ liệu thường xuyên, là bộ nhớ chia sẻ giữa các service. Mô hình này cho phép các service có thể tách nhỏ, hoạt động đồng thời song song mà vẫn đảm bảo tính nhất quán trong tiến trình hoạt động.</p><p>Ngoài ra bên cạnh các tác vụ truy xuất dữ liệu thông thường, những tác vụ yêu cầu các xử lý, phân tích dữ liệu lớn đặc thù có thể sử dụng kết hợp MongoDb với các cơ sở dữ liệu khác như elastic search thông qua cơ chế replica sử dụng <a href="https://github.com/rwynn/monstache" target="_blank" rel="noopener noreferrer">monstache</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mongodb"></a><a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">Mongodb</a><a class="hash-link" href="#mongodb" title="Direct link to heading">#</a></h2><p>Sử dụng như cơ sở dữ liệu chính. MongoDB có những đặc điểm thuận lợi cho một hệ thống IOT.</p><ul><li>Lưu trữ dữ liệu cấu trúc linh động.</li><li>Hoạt động theo cụm phân chia tải ổ cứng.</li><li>Sử dụng replica set để back up dữ liệu theo thời gian thực, đảm bảo độ an toàn và ổn định của hệ thống làm việc thường xuyên.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="redis"></a><a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a><a class="hash-link" href="#redis" title="Direct link to heading">#</a></h2><p>Trong mô hình microservice redis phù hợp bởi mang những lợi thế cho phép</p><ul><li>Dễ dàng mở rộng hoạt động theo cụm.</li><li>Có cơ chế lưu trữ dữ liệu trong ổ cứng, cho phép khôi phục làm việc nếu bị gián đoạn giữa chừng.</li><li>Hỗ trợ nhiều kiểu dữ liệu.</li><li>Cơ chế key expire</li></ul><p>Do vậy chúng tôi sử dụng Redis</p><ul><li>API caching</li><li>Lưu trữ dữ liệu cho các tác vụ cần truy suất, xử lý nhanh như dữ liệu đệm cho service thực hiện luật tự động ...</li><li>Lưu trữ dữ liệu phân quyền cho các giao tiếp mqtt (sử dụng trực tiếp bới mqtt broker tăng tốc độ và hiệu năng cho các giao tiếp mqtt mà vẫn đảm bảo bảo mật chặt chẽ)</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2021-09-29T06:30:03.000Z">9/29/2021</time></b> by <b>tranphuong.080</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/iot-server/docs/overview/architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Tổng quan</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/iot-server/docs/overview/service/gateway"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gateway »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mongodb" class="table-of-contents__link">Mongodb</a></li><li><a href="#redis" class="table-of-contents__link">Redis</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 2018 Makipos.</div></div></div></footer></div>
<script src="/iot-server/assets/js/runtime~main.b2059920.js"></script>
<script src="/iot-server/assets/js/main.a9b7cf04.js"></script>
</body>
</html>
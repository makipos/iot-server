<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Sự cố | Nền tảng IOT Makipos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://makipos.github.io/iot-server/docs/tutorial/mantain/recover"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Sự cố | Nền tảng IOT Makipos"><meta data-react-helmet="true" name="description" content="Service không phản hồi"><meta data-react-helmet="true" property="og:description" content="Service không phản hồi"><link data-react-helmet="true" rel="shortcut icon" href="/iot-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://makipos.github.io/iot-server/docs/tutorial/mantain/recover"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/tutorial/mantain/recover" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/tutorial/mantain/recover" hreflang="x-default"><link rel="stylesheet" href="/iot-server/assets/css/styles.12a4423e.css">
<link rel="preload" href="/iot-server/assets/js/runtime~main.b2059920.js" as="script">
<link rel="preload" href="/iot-server/assets/js/main.a9b7cf04.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/iot-server/"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nền tảng IOT Makipos</b></a><a class="navbar__item navbar__link" href="/iot-server/docs/feature">Chức năng</a><a class="navbar__item navbar__link" href="/iot-server/docs/overview/architecture">Kiến trúc</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/iot-server/docs/tutorial/install/installation">Hướng dẫn</a><a class="navbar__item navbar__link" href="/iot-server/api">API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Cài đặt</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/install/installation">Cài đặt</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/install/verify">Kiểm tra</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/iot-server/docs/tutorial/folder_structure">Cấu trúc thư mục</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Cấu hình</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/get_started">Tổng quát</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/domain">Domain</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/ssl">SSL</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/service">Service</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Kết nối</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Cài đặt thiết bị IOT</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/connect/wificonfig">Cài đặt wifi</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Vận hành</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/monitor">Giám sát</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/database">Truy cập Database</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/security">Bảo mật</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/iot-server/docs/tutorial/mantain/recover">Sự cố</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/backup">Backup</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Sự cố</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="service-không-phản-hồi"></a>Service không phản hồi<a class="hash-link" href="#service-không-phản-hồi" title="Direct link to heading">#</a></h2><p>Thông thường service trong quá trình hoạt động có thể gặp tình trạng phản hồi chậm hoặc không phản hồi do lượng truy vấn tăng đột biến.</p><p>Các service đã được cài đặt cơ chế giám sát tự động thông qua health check của docker, sẽ được tự động khởi động lại khi phát hiện. Tuy nhiên trong một số trường hợp, cài đặt này không phản ứng lại kịp thời thì bạn có thể khởi động lại service bị treo bằng tay thông qua lệnh</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly script"><pre tabindex="0" class="prism-code language-script codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker service update --force &lt;Tên service&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Bạn có thể kiểm tra danh sách các service bằng lệnh</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly script"><pre tabindex="0" class="prism-code language-script codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker service ls</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ID             NAME                                           MODE         REPLICAS   IMAGE                                                               PORTS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">2gx7wm3eyg6t   smarthome-emqtt_emqtt                          replicated   1/1        registry.makipos.net/smarthome/emqtt:1.3.0-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">75i9118b57q4   smarthome-frontend_admin-smarthome             replicated   1/1        registry.makipos.net/smarthome/admin-smarthome:1.20.16-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">73lk0xa58acx   smarthome-mongodb_mongodb                      replicated   1/1        makipos/mongodb:4.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">wc352vzbk0zz   smarthome-redis_redis                          replicated   1/1        redis:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">je9gesg2v746   smarthome-redis_redis-cache                    replicated   1/1        redis:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ux57tiriyd1s   smarthome-services_active-connection-service   replicated   1/1        registry.makipos.net/smarthome/active-connection-service:1.3.14-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">q5y1h02r16sp   smarthome-services_automatic-service           replicated   2/2        registry.makipos.net/smarthome/automatic-service:1.15.1-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">62jnsj1nr8ss   smarthome-services_commercial-service          replicated   1/1        registry.makipos.net/smarthome/commercial-service:1.2.18-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a8y21kc1qe3z   smarthome-services_devices-service             replicated   2/2        registry.makipos.net/smarthome/devices-service:1.20.18-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">d3dmucgi4jyd   smarthome-services_factory-service             replicated   1/1        registry.makipos.net/makipos/factory-service:1.7.7-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fh4s13p3w95g   smarthome-services_files-service               replicated   1/1        registry.makipos.net/smarthome/files-service:1.2.3-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">1kjx9ofd8u5w   smarthome-services_relations-service           replicated   2/2        registry.makipos.net/smarthome/relations-service:1.12.7-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">8dmto5sm5sbv   smarthome-services_update-service              replicated   1/1        registry.makipos.net/smarthome/update-service:1.7.22-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sm0nvubu7an5   smarthome-services_users-service               replicated   2/2        registry.makipos.net/smarthome/users-service:1.24.12-p</span></span><span class="token-line" style="color:#393A34"><span class="token plain">xavp05zkr8rq   smarthome-traefik_traefik                      replicated   1/1        registry.makipos.net/smarthome/traefik:1.2.1-p</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2021-10-01T08:10:18.000Z">10/1/2021</time></b> by <b>tranphuong.080</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/iot-server/docs/tutorial/mantain/security"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Bảo mật</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/iot-server/docs/tutorial/mantain/backup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Backup »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#service-không-phản-hồi" class="table-of-contents__link">Service không phản hồi</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 2018 Makipos.</div></div></div></footer></div>
<script src="/iot-server/assets/js/runtime~main.b2059920.js"></script>
<script src="/iot-server/assets/js/main.a9b7cf04.js"></script>
</body>
</html>
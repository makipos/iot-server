<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Cài đặt wifi | Nền tảng IOT Makipos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://makipos.github.io/iot-server/docs/tutorial/connect/wificonfig"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cài đặt wifi | Nền tảng IOT Makipos"><meta data-react-helmet="true" name="description" content="Quá trình cài cấu hình nhằm các mục đích:"><meta data-react-helmet="true" property="og:description" content="Quá trình cài cấu hình nhằm các mục đích:"><link data-react-helmet="true" rel="shortcut icon" href="/iot-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://makipos.github.io/iot-server/docs/tutorial/connect/wificonfig"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/tutorial/connect/wificonfig" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/tutorial/connect/wificonfig" hreflang="x-default"><link rel="stylesheet" href="/iot-server/assets/css/styles.12a4423e.css">
<link rel="preload" href="/iot-server/assets/js/runtime~main.93c54749.js" as="script">
<link rel="preload" href="/iot-server/assets/js/main.a9b7cf04.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/iot-server/"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nền tảng IOT Makipos</b></a><a class="navbar__item navbar__link" href="/iot-server/docs/feature">Chức năng</a><a class="navbar__item navbar__link" href="/iot-server/docs/overview/architecture">Kiến trúc</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/iot-server/docs/tutorial/install/installation">Hướng dẫn</a><a class="navbar__item navbar__link" href="/iot-server/api">API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Cài đặt</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/install/installation">Cài đặt</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/install/verify">Kiểm tra</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/iot-server/docs/tutorial/folder_structure">Cấu trúc thư mục</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Cấu hình</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/get_started">Tổng quát</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/domain">Domain</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/ssl">SSL</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/service">Service</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Kết nối</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Cài đặt thiết bị IOT</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/iot-server/docs/tutorial/connect/wificonfig">Cài đặt wifi</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Vận hành</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/monitor">Giám sát</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/database">Truy cập Database</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/security">Bảo mật</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/recover">Sự cố</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/backup">Backup</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>1 Giới thiệu</h1></header><p>Quá trình cài cấu hình nhằm các mục đích:</p><ul><li>Mobile app gửi thông tin wifi (tên wifi, mật khẩu) cho thiết bị để kết nối internet.</li><li>Mobile app gửi userId cho thiết bị. Thiết bị khai báo với server về user sở hữu. Server lưu lại để cấp quyền cho user.</li><li>Mobile app gửi location hiện tại cho thiết bị. Thiết bị cập nhật location lên server. Location cuối cùng được cài đặt được hiểu là vị trí hiện tại của thiết bị.</li></ul><header><h1>2 Các bước thực hiện với BLE</h1></header><ul><li>Device name: MKP-DeviceId   VD: MKP-AIO000001084.</li><li>BLE GATT bao gồm 1 service chứa 2 character.</li></ul><table><thead><tr><th>Tham số</th><th>Giá trị UUID</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td>GATT SERVICE UUID</td><td>0x12AB</td><td></td></tr><tr><td>GATT CHAR UUID WIFI LIST</td><td>0xAB01</td><td>Lưu danh sách wifi quét được trong giá trị của character. Các SSID được ngăn cách bởi ký tự 0x06 . Mobile app lấy thông tin bằng thao tác Read</td></tr><tr><td>GATT CHAR UUID COM</td><td>0xAB02</td><td>Character cho phép giao tiếp giữa mobile app và gateway. Mobile app gửi lệnh bằng thao tác Write. Thiết bị gửi dữ liệu thông qua Notify. Mobile app phải đăng ký nhận Notify.</td></tr></tbody></table><p>Các lệnh dưới đây được truyền trong character 0xAB02 .</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="b1-mobile-app-truyền-thông-tin-wifi-cho-thiết-bị"></a>B1: Mobile app truyền thông tin wifi cho thiết bị<a class="hash-link" href="#b1-mobile-app-truyền-thông-tin-wifi-cho-thiết-bị" title="Direct link to heading">#</a></h2><p>Cấu trúc:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_UWF:SSID&lt;0x06&gt;Password&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vi dụ:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_UWF:Wifiname&lt;0x06&gt;123456&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Thiết bị gửi thông báo kết nối wifi thành công:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Wifi_OK</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Chú ý: hiện thiết bị chưa có cơ chế phát hiện kết nối thất bại. Mobile app tự xác định 1 khoảng thời gian (30s đến 1 phút) nếu thiết bị không trả về thanh công thì coi như thất bại.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="b2-mobile-app-truyền-thông-tin-location-cho-thiết-bị"></a>B2: Mobile app truyền thông tin location cho thiết bị<a class="hash-link" href="#b2-mobile-app-truyền-thông-tin-location-cho-thiết-bị" title="Direct link to heading">#</a></h2><p>Cấu trúc:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_LOI: &lt;long&gt;&lt;0x06&gt;&lt;lat&gt;&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vi dụ:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_LOI: 105.7831197&lt;0x06&gt;21.0319133&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="b3-mobile-app-truyền-thông-tin-user-id-cho-thiết-bị"></a>B3: Mobile app truyền thông tin user ID cho thiết bị<a class="hash-link" href="#b3-mobile-app-truyền-thông-tin-user-id-cho-thiết-bị" title="Direct link to heading">#</a></h2><p>Cấu trúc:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_UID:UserID&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vi dụ:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_UID:123132abcd12ef&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Thiết bị trả về:</p><table><thead><tr><th>Kết quả</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td>User_OK</td><td>Thêm user thành công</td></tr><tr><td>User_EXIST</td><td>Thiết bị đã thuộc user từ trước</td></tr><tr><td>User_FALSE</td><td>Lỗi khác</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="b4-mobile-app-gửi-lệnh-kết-thúc-quá-trình-cài-đặt"></a>B4: Mobile app gửi lệnh kết thúc quá trình cài đặt<a class="hash-link" href="#b4-mobile-app-gửi-lệnh-kết-thúc-quá-trình-cài-đặt" title="Direct link to heading">#</a></h2><p>Sau khi nhận được phản hồi từ B3
Cấu trúc:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">_END:&lt;0x04&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2021-09-30T04:01:25.000Z">9/30/2021</time></b> by <b>tranphuong.080</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/iot-server/docs/tutorial/config/service"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Service</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/iot-server/docs/tutorial/mantain/monitor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Giám sát »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#b1-mobile-app-truyền-thông-tin-wifi-cho-thiết-bị" class="table-of-contents__link">B1: Mobile app truyền thông tin wifi cho thiết bị</a></li><li><a href="#b2-mobile-app-truyền-thông-tin-location-cho-thiết-bị" class="table-of-contents__link">B2: Mobile app truyền thông tin location cho thiết bị</a></li><li><a href="#b3-mobile-app-truyền-thông-tin-user-id-cho-thiết-bị" class="table-of-contents__link">B3: Mobile app truyền thông tin user ID cho thiết bị</a></li><li><a href="#b4-mobile-app-gửi-lệnh-kết-thúc-quá-trình-cài-đặt" class="table-of-contents__link">B4: Mobile app gửi lệnh kết thúc quá trình cài đặt</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 2018 Makipos.</div></div></div></footer></div>
<script src="/iot-server/assets/js/runtime~main.93c54749.js"></script>
<script src="/iot-server/assets/js/main.a9b7cf04.js"></script>
</body>
</html>
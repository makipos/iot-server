<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Ki·ªÉm th·ª≠ | N·ªÅn t·∫£ng IOT Makipos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://makipos.github.io/iot-server/docs/tutorial/test"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Ki·ªÉm th·ª≠ | N·ªÅn t·∫£ng IOT Makipos"><meta data-react-helmet="true" name="description" content="Stress test, Stable test"><meta data-react-helmet="true" property="og:description" content="Stress test, Stable test"><link data-react-helmet="true" rel="shortcut icon" href="/iot-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://makipos.github.io/iot-server/docs/tutorial/test"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/tutorial/test" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/tutorial/test" hreflang="x-default"><link rel="stylesheet" href="/iot-server/assets/css/styles.12a4423e.css">
<link rel="preload" href="/iot-server/assets/js/runtime~main.0ddf77e5.js" as="script">
<link rel="preload" href="/iot-server/assets/js/main.20913a2c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/iot-server/"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">N·ªÅn t·∫£ng IOT Makipos</b></a><a class="navbar__item navbar__link" href="/iot-server/docs/feature">Ch·ª©c nƒÉng</a><a class="navbar__item navbar__link" href="/iot-server/docs/overview/architecture">Ki·∫øn tr√∫c</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/iot-server/docs/tutorial/install/installation">H∆∞·ªõng d·∫´n</a><a class="navbar__item navbar__link" href="/iot-server/api">API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">C√†i ƒë·∫∑t</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/install/installation">C√†i ƒë·∫∑t</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/install/verify">Ki·ªÉm tra</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/iot-server/docs/tutorial/folder_structure">C·∫•u tr√∫c th∆∞ m·ª•c</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">C·∫•u h√¨nh</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/get_started">T·ªïng qu√°t</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/domain">Domain</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/ssl">SSL</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/config/service">Service</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">K·∫øt n·ªëi</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">C√†i ƒë·∫∑t thi·∫øt b·ªã IOT</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/connect/wificonfig">C√†i ƒë·∫∑t wifi</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Ch·ª©c nƒÉng</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/function/roles">Ph√¢n quy·ªÅn</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/iot-server/docs/tutorial/test">Ki·ªÉm th·ª≠</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">V·∫≠n h√†nh</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/monitor">Gi√°m s√°t</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/database">Truy c·∫≠p Database</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/security">B·∫£o m·∫≠t</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/recover">S·ª± c·ªë</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/tutorial/mantain/backup">Backup</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ki·ªÉm th·ª≠</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="stress-test-stable-test"></a>Stress test, Stable test<a class="hash-link" href="#stress-test-stable-test" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="chu·∫©n-b·ªã"></a>Chu·∫©n b·ªã<a class="hash-link" href="#chu·∫©n-b·ªã" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="t√†i-kho·∫£n-ng∆∞·ªùi-d√πng-v√†-thi·∫øt-b·ªã"></a>T√†i kho·∫£n ng∆∞·ªùi d√πng v√† thi·∫øt b·ªã<a class="hash-link" href="#t√†i-kho·∫£n-ng∆∞·ªùi-d√πng-v√†-thi·∫øt-b·ªã" title="Direct link to heading">#</a></h4><p>Qu√° tr√¨nh test kh·∫£ nƒÉng ch·ªãu t·∫£i c·ªßa h·ªá th·ªëng th√¥ng qua giao di·ªán API http v√† giao di·ªán giao ti·∫øp MQTT.</p><p>H·ªá th·ªëng h·ªó tr·ª£ qu√° tr√¨nh stress test v√† test ho·∫°t ƒë·ªông c·ªßa h·ªá th·ªëng th√¥ng qua 2 API:</p><ol><li>API kh·ªüi t·∫°o t√†i kho·∫£n ng∆∞·ªùi d√πng v√† t√†i kho·∫£n thi·∫øt b·ªã:</li></ol><ul><li>Endpoint : /users-performance-test</li><li>Method : POST</li><li>Payload Data :<ul><li>totalDevice (number): S·ªë l∆∞·ª£ng t√†i kho·∫£n ng∆∞·ªùi d√πng v√† thi·∫øt b·ªã ƒë∆∞·ª£c t·∫°o</li><li>deviceTypeId (string): M√£ lo·∫°i thi·∫øt b·ªã cho thi·∫øt b·ªã ƒë∆∞·ª£c t·∫°o</li></ul></li></ul><ol start="2"><li>API x√≥a t·∫•t c·∫£ t√†i kho·∫£n ng∆∞·ªùi d√πng v√† t√†i kho·∫£n thi·∫øt b·ªã (c√πng d·ªØ li·ªáu l·ªãch s·ª≠)</li></ol><ul><li>Endpoint : /users-performance-test</li><li>Method : DELETE</li></ul><p>API Kh·ªüi t·∫°o s·∫Ω t·∫°o 1 lo·∫°t c√°c t√†i kho·∫£n ng∆∞·ªùi d√πng v·ªõi <code>username</code> b·∫Øt ƒë·∫ßu v·ªõi chu·ªói <code>pft_u</code> theo sau l√† s·ªë th·ª© t·ª± t√†i kho·∫£n, m·∫≠t kh·∫©u c·ªßa t·∫•t c·∫£ c√°c t√†i kho·∫£n s·∫Ω l√† <code>mkpsmarthome</code>.</p><p>T∆∞∆°ng ·ª©ng c√°c t√†i kho·∫£n thi·∫øt b·ªã ƒë∆∞·ª£c t·∫°o s·∫Ω c√≥ <code>productId</code> b·∫Øt ƒë·∫ßu b·∫±ng <code>pft_d</code>, m·∫≠t kh·∫©u c·ªßa c√°c t√†i kho·∫£n thi·∫øt b·ªã m·∫∑c ƒë·ªãnh l√† <code>mkpsmarthome</code> (ho·∫∑c theo <code>defaultPassword</code> trong file c·∫•u h√¨nh service <code>device-service</code>)</p><p>C√°c t√†i kho·∫£n ng∆∞·ªùi d·ª•ng ƒë∆∞·ª£c t·∫°o ra c√≥ th·ªÉ publish d·ªØ li·ªáu l√™n topic c√≥ c·∫•u tr√∫c <code>d/+/s/${username}/CP/#</code> v√† subcribe d·ªØ li·ªáu trong topic c√≥ c·∫•u tr√∫c <code>d/+/p/UP/#</code>. ƒêi·ªÅu n√†y cho ph√©p c√°c t√†i kho·∫£n ng∆∞·ªùi d√πng c√≥ th·ªÉ nghe d·ªØ li·ªáu v√† g·ª≠i d·ªØ li·ªáu t·ªõi m·ªçi t√†i kho·∫£n thi·∫øt b·ªã.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="c√¥ng-c·ª•-monitor-server"></a>C√¥ng c·ª• monitor server<a class="hash-link" href="#c√¥ng-c·ª•-monitor-server" title="Direct link to heading">#</a></h4><p>ƒê·ªÅ xu·∫•t c√≥ th·ªÉ s·ª≠ d·ª•ng netdata ho·∫∑c b·∫•t k·ª≥ c√¥ng c·ª• gi√°m s√°t ghi log tr·∫°ng th√°i ho·∫°t ƒë·ªông c·ªßa server n√†o.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="c√¥ng-c·ª•-test"></a>C√¥ng c·ª• Test<a class="hash-link" href="#c√¥ng-c·ª•-test" title="Direct link to heading">#</a></h4><p>Ng∆∞·ªùi x√¢y d·ª±ng k·ªãch b·∫£n test s·ª≠ d·ª•ng c√¥ng c·ª• b·∫•t k·ª≥ ph·ª•c v·ª• cho qu√° tr√¨nh ki·ªÉm th·ª≠ t·∫£i tr√™n giao di·ªán API HTTP ho·∫∑c giao di·ªán giao ti·∫øp MQTT. V√≠ d·ª• <code>Jmeter</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="th·ª±c-hi·ªán-test"></a>Th·ª±c hi·ªán test<a class="hash-link" href="#th·ª±c-hi·ªán-test" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="k·∫øt-qu·∫£-test-n·ªôi-b·ªô"></a>K·∫øt qu·∫£ test n·ªôi b·ªô<a class="hash-link" href="#k·∫øt-qu·∫£-test-n·ªôi-b·ªô" title="Direct link to heading">#</a></h3><p>K·∫øt qu·∫£ test do Makipos th·ª±c hi·ªán tr√™n m√°y ch·ªß c√≥ c·∫•u h√¨nh 2 CPU, 4 GB RAM. S·ª≠ d·ª•ng c√¥ng c·ª• Jmeter (5.0) v·ªõi  <a href="https://cloud.makipos.net/s/2wHmpZS668tWMDs" target="_blank" rel="noopener noreferrer">plugin mqtt</a></p><p><a target="_blank" href="/iot-server/assets/files/pubsub_unidirection-a1f54c44f7762ccb3428ced4be426206.jmx">File jmx</a></p><p>K·ªãch b·∫£n test:</p><ol><li>Kh·ªüi t·∫°o 5000 t√†i kho·∫£n (5000 thi·∫øt b·ªã, 5000 ng∆∞·ªùi d√πng)</li><li>Kh·ªüi t·∫°o k·∫øt n·ªëi MQTT l√™n server (6 k·∫øt n·ªëi tr√™n gi√¢y)</li><li>M·ªói t√†i kho·∫£n thi·∫øt b·ªã publish d·ªØ li·ªáu l√™n 1 topic c·ª• th·ªÉ v·ªõi t·∫•n su·∫•t trung b√¨nh 15 ph√∫t m·ªôt b·∫£n tin . T√†i kho·∫£n ng∆∞·ªùi d√πng t∆∞∆°ng ·ª©ng subcribe v√†o topic c·ªßa thi·∫øt b·ªã t∆∞∆°ng ·ª©ng, x√°c nh·∫≠n vi·ªác nh·∫≠n d·ªØ li·ªáu th√†nh c√¥ng.</li></ol><p>K·∫øt qu·∫£ :</p><ul><li>S·ªë b·∫£n tin l·ªói 0%</li><li>T√¨nh tr·∫°ng server trong qu√° tr√¨nh test :
<img src="/iot-server/assets/images/cpu-040314a26ba4fd99c81ad6a3caa35601.png"><img src="/iot-server/assets/images/ram-6efb8834a82d68e6cc66cfa022d7b6f7.png"><img src="/iot-server/assets/images/swap-60e4f395e6a05c2a27835dcbe2bd32ab.png"><img src="/iot-server/assets/images/network-8d815bee10fdfdd6ffb773f4c9e956a0.png"><img src="/iot-server/assets/images/disk-8209d4e30760b45a0541f5c9e3959a83.png"><img src="/iot-server/assets/images/device_event_by_time-d56b871d06653cea7e985b671490281e.png"></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2022-01-09T14:59:06.000Z">1/9/2022</time></b> by <b>tranphuong.080</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/iot-server/docs/tutorial/function/roles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Ph√¢n quy·ªÅn</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/iot-server/docs/tutorial/mantain/monitor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gi√°m s√°t ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#stress-test-stable-test" class="table-of-contents__link">Stress test, Stable test</a><ul><li><a href="#chu·∫©n-b·ªã" class="table-of-contents__link">Chu·∫©n b·ªã</a></li><li><a href="#th·ª±c-hi·ªán-test" class="table-of-contents__link">Th·ª±c hi·ªán test</a></li><li><a href="#k·∫øt-qu·∫£-test-n·ªôi-b·ªô" class="table-of-contents__link">K·∫øt qu·∫£ test n·ªôi b·ªô</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright ¬© 2018 Makipos.</div></div></div></footer></div>
<script src="/iot-server/assets/js/runtime~main.0ddf77e5.js"></script>
<script src="/iot-server/assets/js/main.20913a2c.js"></script>
</body>
</html>
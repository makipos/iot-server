<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Cài đặt | Nền tảng IOT Makipos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://makipos.github.io/iot-server/docs/installation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cài đặt | Nền tảng IOT Makipos"><meta data-react-helmet="true" name="description" content="Deploy service"><meta data-react-helmet="true" property="og:description" content="Deploy service"><link data-react-helmet="true" rel="shortcut icon" href="/iot-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://makipos.github.io/iot-server/docs/installation"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/installation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://makipos.github.io/iot-server/docs/installation" hreflang="x-default"><link rel="stylesheet" href="/iot-server/assets/css/styles.12a4423e.css">
<link rel="preload" href="/iot-server/assets/js/runtime~main.77a226e7.js" as="script">
<link rel="preload" href="/iot-server/assets/js/main.6a87661a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/iot-server/"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/iot-server/img/favicon.ico" alt="Makipos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Nền tảng IOT Makipos</b></a><a class="navbar__item navbar__link" href="/iot-server/docs/feature">Chức năng</a><a class="navbar__item navbar__link" href="/iot-server/docs/architecture">Kiến trúc</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/iot-server/docs/installation">Hướng dẫn</a><a class="navbar__item navbar__link" href="/iot-server/api">API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cài đặt</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/iot-server/docs/installation">Cài đặt</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/iot-server/docs/verify">Kiểm tra</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kết nối</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cài đặt</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="deploy-service"></a>Deploy service<a class="hash-link" href="#deploy-service" title="Direct link to heading">#</a></h2><p>Quá trình cài đặt sử dụng quyền root của hệ thống</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="1-cài-đặt-công-cụ"></a>1. Cài đặt công cụ<a class="hash-link" href="#1-cài-đặt-công-cụ" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y apt-transport-https ca-certificates </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> gnupg-agent software-properties-common sshpass fish </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">watch</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Các lệnh này sử dụng fish shell, active fish shell bằng lệnh</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fish</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="2-tạo-thư-mục-chứa-bộ-cài-đặt-và-cấu-hình"></a>2. Tạo thư mục chứa bộ cài đặt và cấu hình<a class="hash-link" href="#2-tạo-thư-mục-chứa-bộ-cài-đặt-và-cấu-hình" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /opt</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> makiposiot</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> makiposiot</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Sửa đường dẫn mount thư mục cho docker trong 2 file <code>.envDeploy</code> và <code>.envFrontendDeploy</code> nếu bạn thay đổi đường dẫn trong <a href="#2-t%E1%BA%A1o-th%C6%B0-m%E1%BB%A5c-ch%E1%BB%A9a-b%E1%BB%99-c%C3%A0i-%C4%91%E1%BA%B7t-v%C3%A0-c%E1%BA%A5u-h%C3%ACnh">bước 2</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">CONFIG_PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/makiposiot/iot-server/config</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="3-clone-bộ-cài-đặt-từ-github"></a>3. clone bộ cài đặt từ github<a class="hash-link" href="#3-clone-bộ-cài-đặt-từ-github" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/makipos/iot-server.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> iot-server</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> -R +x script</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> -R +x scriptdeploy</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x install.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="4-cài-đặt-docker"></a>4. Cài đặt docker####<a class="hash-link" href="#4-cài-đặt-docker" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSL https://get.docker.com -o get-docker.sh</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> get-docker.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="5-khởi-tạo-docker-swarm"></a>5. Khởi tạo docker swarm<a class="hash-link" href="#5-khởi-tạo-docker-swarm" title="Direct link to heading">#</a></h4><p>Thay thế <code>localhost</code> bằng ip của net interface bạn sử dụng cho mạng nội bộ giữa các máy chủ</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker swarm init --advertise-addr localhost</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="6-cài-đặt-docker-compose"></a>6. Cài đặt <code>docker-compose</code><a class="hash-link" href="#6-cài-đặt-docker-compose" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">set</span><span class="token plain"> unames </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">uname -s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> unamem </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">uname -m</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># echo &quot;https://github.com/docker/compose/releases/download/1.24.0/docker-compose-$unames-$unamem&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -L </span><span class="token string" style="color:#e3116c">&quot;https://github.com/docker/compose/releases/download/1.24.0/docker-compose-</span><span class="token string variable" style="color:#36acaa">$unames</span><span class="token string" style="color:#e3116c">-</span><span class="token string variable" style="color:#36acaa">$unamem</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> -o /usr/local/bin/docker-compose</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x /usr/local/bin/docker-compose</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="7-khởi-tạo-thư-mục-chứa-dữ-liệu-cho-server"></a>7. Khởi tạo thư mục chứa dữ liệu cho server<a class="hash-link" href="#7-khởi-tạo-thư-mục-chứa-dữ-liệu-cho-server" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./script/prepair.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="8-kiểm-tra-quá-trình-cài-đặt-các-service-chạy-lệnh-này-ở-1-cửa-sổ-terminal-khác"></a>8. Kiểm tra quá trình cài đặt các service (chạy lệnh này ở 1 cửa sổ terminal khác)<a class="hash-link" href="#8-kiểm-tra-quá-trình-cài-đặt-các-service-chạy-lệnh-này-ở-1-cửa-sổ-terminal-khác" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">watch</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> docker </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ls</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="9-deploy-các-service"></a>9. Deploy các service####<a class="hash-link" href="#9-deploy-các-service" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./scriptdeploy/deploy.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ID                  NAME                                    MODE                REPLICAS            IMAGE                             PORTS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">dl26wa8pdfo4        makiposiot-emqtt_emqtt                  replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 makipos/emqtt:1.2.3</span></span><span class="token-line" style="color:#393A34"><span class="token plain">wegouhqjicbo        makiposiot-mongodb_mongodb              replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 mongo:4.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">adtsmho42p8c        makiposiot-redis_redis                  replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 redis:alpine</span></span><span class="token-line" style="color:#393A34"><span class="token plain">qlecvm774d0w        makiposiot-redis_redis-cache            replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 redis:alpine</span></span><span class="token-line" style="color:#393A34"><span class="token plain">i8wmjwltymdm        makiposiot-services_automatic-service   replicated          </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2                 makipos/automatic-service:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">dms83rntop4b        makiposiot-services_devices-service     replicated          </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2                 makipos/devices-service:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tv55cooabbd3        makiposiot-services_relations-service   replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 makipos/relations-service:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">6zwpq2kjuclq        makiposiot-services_update-service      replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 makipos/update-service:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">wx3vi7qup1ty        makiposiot-services_users-service       replicated          </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2                 makipos/users-service:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">tz4dmfaswejy        makiposiot-services_files-service       replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 makipos/files-service:latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain">hz4dmfxvwej4        makiposiot-ssh-server_ssh-server        replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 makipos/ssh-server:1.2.1          </span></span><span class="token-line" style="color:#393A34"><span class="token plain">o4z35tzjby9g        makiposiot-traefik_traefik              replicated          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1                 traefik:1.7</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="10-nhập-dữ-liệu-khởi-tạo-cho-db"></a>10. Nhập dữ liệu khởi tạo cho db<a class="hash-link" href="#10-nhập-dữ-liệu-khởi-tạo-cho-db" title="Direct link to heading">#</a></h4><p>Bạn có thể thay đổi mật khẩu khởi tạo của admin trong file <code>script/mongoshellcommand.js</code>
<code>password</code> là mã hóa SHA256 của <code>plainPassword</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">db.users.insert({</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;username&quot; : &quot;admin&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;password&quot; : &quot;3961160ecd2395473e3bda395b1f1329b98f08676a1a6ce1006d00b6ce838828&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;plainPassword&quot;:&quot;MKP123456a@&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;name&quot; : &quot;admin&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;roles&quot; : [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       &quot;admin&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;userSetting&quot; : {},</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;googleAssistant&quot; : false</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> });</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Chạy lệnh sau để insert dữ liệu tài khoản admin ban đầu vào database</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./script/prepairdb.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="11-deploy-trang-web-quản-trị"></a>11. Deploy trang web quản trị<a class="hash-link" href="#11-deploy-trang-web-quản-trị" title="Direct link to heading">#</a></h4><p>Mặc định cấu hình truy cập web quản trị là <code>localhost</code></p><p>Sửa lại domain từ <code>localhost</code> thành domain bạn mong muốn trong file <code>config/traefik-frontend/traefik.toml</code> dòng</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly toml"><pre tabindex="0" class="prism-code language-toml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[frontends.admin-makiposiot.routes.route_1]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">rule = &quot;Host:localhost&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Và file <code>docker-compose-frontend.yml</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> REACT_APP_SERVER_ADDR=http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3028</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> REACT_APP_MQTT_SERVER_ADDR=ws</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">8083/mqtt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Cuối cùng chạy lệnh deploy</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">./scriptdeploy/deployFrontend.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="nhập-licensekey"></a>Nhập licensekey<a class="hash-link" href="#nhập-licensekey" title="Direct link to heading">#</a></h2><p>Liên hệ với chúng tôi : <a href="http://makihome.vn/" target="_blank" rel="noopener noreferrer">http://makihome.vn/</a></p><p>Hoặc trực tiếp qua email : <a href="mailto:phuongtq@makipos.com" target="_blank" rel="noopener noreferrer">phuongtq@makipos.com</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="1-đăng-nhập"></a>1. Đăng nhập<a class="hash-link" href="#1-đăng-nhập" title="Direct link to heading">#</a></h4><p>Sau khi cài đặt bạn đã có thể truy cập vào trang web quản trị</p><p>Đăng nhập vào bằng tài khoản admin đã được khởi tạo trong db</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="2-nhập-licensekey"></a>2. Nhập licenseKey<a class="hash-link" href="#2-nhập-licensekey" title="Direct link to heading">#</a></h4><p>Click vào tên tài khoản ở góc trên bên phải trang quản trị. Chọn <code>Change lincense key</code></p><p>Tại đây bạn nhập license key được chúng tôi cung cấp để mở khóa sử dụng hệ thống.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2021-09-28T08:53:59.000Z">9/28/2021</time></b> by <b>tranphuong.080</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/iot-server/docs/verify"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kiểm tra »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#deploy-service" class="table-of-contents__link">Deploy service</a></li><li><a href="#nhập-licensekey" class="table-of-contents__link">Nhập licensekey</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/iot-server/img/favicon.ico" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 2018 Makipos.</div></div></div></footer></div>
<script src="/iot-server/assets/js/runtime~main.77a226e7.js"></script>
<script src="/iot-server/assets/js/main.6a87661a.js"></script>
</body>
</html>